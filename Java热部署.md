# Java热部署

## 概念

将打包好的应用直接替换掉原有的应用，不用关闭或重启服务器。对Java应用程序来说，热部署就是在运行时更新Java类文件

## 目的

节省应用开发和发布的时间

## 原理

想要了解热部署的原理，必须要了解java类的加载过程，如下：

1. 通过java编译器，将java文件编译成class字节码
2. 类加载器（ClassLoader）读取字节码，再将类转化为实力
3. 对实例就可以生成对象



类加载器（ClassLoader）功能，就是将class字节码转换到类的实例。在java应用中，所欲的实例都是有类加载器加载而来。对于同一个全限定名的java类，只能被加载一次，而且无法被卸载。

## 实现热部署步骤

1. 销毁自定义ClassLoader
2. 更新class类文件
3. 创建新的ClassLoader去加载更新后的class类文件

## 热部署与热加载

### 联系

1. 不重启服务器编译/部署项目
2. 基于Java的类加载器实现

### 区别

#### 部署方式

热部署：在服务器运行时重新部署项目

热加载：在运行时重新加载class

#### 实现原理

热部署：直接小虹心加载整个应用

热加载：在运行时重新加载class

#### 使用场景

热部署：更多的是在生产环境中

热加载：更多在开发环境中